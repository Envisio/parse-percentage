{"version":3,"sources":["../src/index.js"],"names":["module","exports","arr","precision","total","reduce","a","b","lastIndex","length","reverse","findIndex","num","acc","item","index","parseFloat","toFixed"],"mappings":";;AAAA;;;;;;;;;;AAUAA,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAwB;AAAA,MAAlBC,SAAkB,uEAAN,CAAM;;AACvC,MAAMC,QAAQF,IAAIG,MAAJ,CAAW,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,IAAIC,CAAd;AAAA,GAAX,EAA4B,CAA5B,CAAd;AACA,MAAI,CAACH,KAAL,EAAY;AACV,WAAOF,GAAP;AACD;AACD,MAAMM,YAAYN,IAAIO,MAAJ,GAAa,CAAb,GAAiBP,IAAIQ,OAAJ,GAAcC,SAAd,CAAwB;AAAA,WAAOC,MAAM,CAAb;AAAA,GAAxB,CAAnC;AACAV,MAAIQ,OAAJ,GAAcL,MAAd,CAAqB,UAACQ,GAAD,EAAMC,IAAN,EAAYC,KAAZ,EAAsB;AACzC,QAAIA,UAAUP,SAAd,EAAyB;AAAE;AACzBN,UAAIa,KAAJ,IAAaC,WAAW,CAAC,IAAIH,GAAL,EAAUI,OAAV,CAAkBd,SAAlB,CAAX,EAAyC,EAAzC,CAAb;AACD,KAFD,MAEO;AAAE;AACPD,UAAIa,KAAJ,IAAaC,WAAW,CAACF,OAAOV,KAAR,EAAea,OAAf,CAAuBd,SAAvB,CAAX,EAA8C,EAA9C,CAAb;AACD;AACDU,WAAOX,IAAIa,KAAJ,CAAP,CANyC,CAMtB;AACnB,WAAOF,GAAP;AACD,GARD,EAQG,CARH;AASA,SAAOX,GAAP;AACD,CAhBD","file":"index.js","sourcesContent":["/**\n * @param {Array} arr\n * @param {Number} precision\n * @returns {Array}\n * @example\n * import percentify from 'parse-percentage';\n * const arr = [ 0.7, 0.15, 0.5, 0 ];\n * const newArr = percentify(arr);\n * console.log(newArr);\n */\nmodule.exports = (arr, precision = 2) => {\n  const total = arr.reduce((a, b) => a + b, 0);\n  if (!total) {\n    return arr;\n  }\n  const lastIndex = arr.length - 1 - arr.reverse().findIndex(num => num > 0);\n  arr.reverse().reduce((acc, item, index) => {\n    if (index === lastIndex) { // eslint-disable-next-line no-param-reassign\n      arr[index] = parseFloat((1 - acc).toFixed(precision), 10);\n    } else { // eslint-disable-next-line no-param-reassign\n      arr[index] = parseFloat((item / total).toFixed(precision), 10);\n    }\n    acc += arr[index]; // eslint-disable-line no-param-reassign\n    return acc;\n  }, 0);\n  return arr;\n};\n"]}